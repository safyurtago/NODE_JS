<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <form>
        <input type="text" placeholder="Enter Name" name="name" id="name" /> <br /><br />
        <input type="number" placeholder="Enter Amount" name="count" id="count" /> <br /><br />
        <input type="number" placeholder="Enter Price" name="price" id="price" /> <br /><br />
        <button type="button" id="add_btn" style="width: 15%;">ADD</button><br /><br />
        <button type="submit" id="show_btn" style="width: 15%;">SHOW All</button><br /><br />
        <button type="submit" id="extend_btn" style="width: 15%;">EXTEND</button><br /><br />
        <button type="submit" id="buy_btn" style="width: 15%;">BUY</button><br /><br />
        <button type="submit" id="sell_btn"  style="width: 15%;">SELL</button><br /><br />
    </form>
</body>
    <script>
        async function bootstrap () {
            const data = await fetch("http://localhost:4000/warehouse")
            console.log(await data.json());
        }
        bootstrap()

        const add_btn = document.querySelector("#add_btn")
        const show_btn = document.querySelector("#show_btn")
        const extend_btn = document.querySelector("#extend_btn")
        const buy_btn = document.querySelector("#buy_btn")
        const sell_btn = document.querySelector("#sell_btn")
        const form = document.querySelector("form")
        const name = document.querySelector("#name")
        const count = document.querySelector("#count")
        const price = document.querySelector("#price")
       
       try {
        add_btn.addEventListener("click", async(e) => {
            e.preventDefault()
            const nameValue = name.value
            const countValue = count.value
            const priceValue = price.value
            if (nameValue === "" || countValue <= 0 || priceValue <= 0) {
                throw new Error("Invalid Iput")
            }
            await fetch("http://localhost:4000/warehouse", 
            {
                body: JSON.stringify({name: nameValue, count: countValue, price: priceValue}),
                method: "POST"
            })
            nameValue = ""
            countValue = ""
            priceValue = ""
        })
       }
       catch (error) {
            alert(error.message);
       }
    </script>

</html>